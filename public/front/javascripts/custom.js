$(function() {    "use strict";    // ROUTER	var pathname = location.pathname;	var page = pathname.slice(1, pathname.length).split('/')[0];	page = page.length > 0 ? page : 'home';	var hash = location.hash;	var navbar = $('#nav').find('.navbar-nav');	navbar.find('li.'+page).addClass('active');	// REMOVE # FROM URL	$( 'a[href="#"]' ).click( function(e) {		e.preventDefault();	});	// CAMERA SLIDER	$("#camera_wrap_1").camera({		alignment: 'center',		autoAdvance: false,		mobileAutoAdvance: true,		barDirection: 'leftToRight',		barPosition: 'bottom',		loader: 'none',		opacityOnGrid: false,		cols: 12,		height: '50%',		playPause: false,		pagination: false,		time: 7000,		imagePath: '/plugins/camera/images/',		onEndTransition: function(event) {			// 图片加载完成之后, caption出现之前			console.log('transition end');			console.log(event);		},		onLoaded: function(event) {			console.log('onloaded');			console.log(event);		}	});	// NEWS CAROUSEL	$("#news-carousel, #comments-carousel, #products-carousel").carousel({		interval: false	});	// ACCORDION	var toggleActive = function(event) {		// find panel-heading		$(event.target).prev()		// toggle active class		.toggleClass('active')		// toggle sign		.find('.fa').toggleClass('fa-plus fa-minus');	};	$("#accordion, #accordion-faqs")	.on("show.bs.collapse hide.bs.collapse", toggleActive);	// plarform submenu toggle content collapse	if (page === 'platform') {		var mainContainerOffset = $('.main-container').offset();		var $this, href;		$('.platform').find('.dropdown-menu').find('a').each(function (index) {			$this = $(this);			href = '#' + $this.attr('href').split('#')[1];			$this			// update platform submenu to trigger the collapse			.attr({				'data-toggle': 'collapse',				'data-parent': '#accordion-faqs',				'href': href			})			// scroll to the content			.on('click', function(event) {				$('body').animate({					scrollTop: mainContainerOffset.top,				}, 500);			});		})		// simulate click to open the 		if (hash.length > 0) {			// save active accodtion id into history			var state = {				hash: hash,				url: location.url			};			history.pushState(state, 'platform', '');		} else {			hash = '#collapse0';		}		// TODO: find a way to replace the click event,		// which might not functional on mobile platform		$('.panel-title').find('a[href=' + hash + ']').trigger('click');	}	// broswer back button handler	window.onpopstate = function(event) {		if ((page === 'platform') && (hash.length > 0)) {			// back again if hash is shown in address bar			history.back();		}	};	// DOCTORS FILTERS	var $grid = $('#products-grid');	$grid.shuffle({		itemSelector: '.products-grid', // the selector for the items in the grid		speed: 500 // Transition/animation speed (milliseconds)	});	/* reshuffle when user clicks a filter item */	$('#products-filter li a').click(function (e) {		// set active class		$('#products-filter li a').removeClass('active');		$(this).addClass('active');		// get group name from clicked item		var groupName = $(this).attr('data-group');		// reshuffle grid		$grid.shuffle('shuffle', groupName );	});	//MAGNIFIC POPUP	$('.gallery-grid').magnificPopup({		delegate: 'a.zoom',		type: 'image',		gallery: {			enabled: true		}	});	// // GOOGLE MAP	// function initialize($) {	// 	var mapOptions = {	// 		zoom: 8,	// 		center: new google.maps.LatLng(17.421306, 78.457553),	// 		disableDefaultUI: true	// 	};	// 	var map = new google.maps.Map(document.querySelector('.map'), mapOptions);	// }	// google.maps.event.addDomListener(window, 'load', initialize);	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');	ga('create', 'UA-63704743-2', 'auto');	ga('send', 'pageview');});